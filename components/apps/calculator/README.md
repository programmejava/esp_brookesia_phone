# ESP32 科学计算器

这是一个为ESP32开发板设计的功能完整的科学计算器应用，具有类似Windows计算器的科学功能，界面美观，操作便捷。

## 界面优化改进

### 视觉效果增强
- **统一按钮尺寸** - 所有按钮现在都具有一致的尺寸和间距
- **按钮颜色分类** - 不同类型的按钮采用不同颜色以提升可用性：
  - **内存功能按钮 (MC, MR, M+, M-, MS, Mv)** - 蓝色背景
  - **清除/退格按钮 (C, ⌫)** - 红色背景  
  - **运算符按钮 (+, -, x, /, =)** - 橙色背景
  - **数字按钮 (0-9, .)** - 白色背景配深色文字
  - **科学函数按钮 (pi, e, sqrt等)** - 浅蓝色背景
- **圆角设计** - 现代化外观，按钮采用圆角设计
- **阴影效果** - 微妙的阴影增加按钮立体感
- **优化字体** - 针对不同区域优化字体大小，提升可读性
- **清晰显示区域** - 增强的显示区域，配有边框和背景色

### 修复字符显示问题
- 替换了可能显示为乱码的特殊Unicode字符：
  - **π** → **pi** (圆周率常数)
  - **×** → **x** (乘法符号)  
  - **√** → **sqrt** (平方根函数)
  - **±** → **+/-** (正负号切换)
  - **²** → **^2** (平方函数)

## 功能特性

### 内存操作功能
- **MC** - 内存清除 (蓝色按钮)
- **MR** - 内存调用 (蓝色按钮)
- **M+** - 内存加法 (蓝色按钮)
- **M-** - 内存减法 (蓝色按钮)
- **MS** - 内存存储 (蓝色按钮)
- **Mv** - 内存查看 (蓝色按钮，占位符功能)

### 科学计算功能
- **pi** - 圆周率常数 (3.14159..., 浅蓝色按钮)
- **e** - 自然常数 (2.71828..., 浅蓝色按钮)
- **x^2** - 平方函数 (浅蓝色按钮)
- **1/x** - 倒数函数 (浅蓝色按钮)
- **|x|** - 绝对值函数 (浅蓝色按钮)
- **exp** - 指数函数 (e^x, 浅蓝色按钮)
- **sqrt** - 平方根函数 (浅蓝色按钮)
- **x^y** - 幂函数 (浅蓝色按钮)
- **10^x** - 10的幂函数 (浅蓝色按钮)
- **ln** - 自然对数 (浅蓝色按钮)
- **log** - 常用对数(以10为底) (浅蓝色按钮)
- **n!** - 阶乘函数 (浅蓝色按钮)
- **mod** - 取模运算 (浅蓝色按钮)

### 角度模式
- **DEG** - 角度模式 (默认，左上角蓝色文字显示)
- **RAD** - 弧度模式 (左上角蓝色文字显示)
- 通过 **2nd** 按钮切换 (浅蓝色按钮)

### 界面指示器
- **DEG/RAD** - 当前角度模式，蓝色文字显示 (左上角)
- **M** - 内存指示器，橙色文字显示 (右上角，当内存有数据时显示)

### 基础运算
- **+, -, x, /** - 基础四则运算 (橙色按钮)
- **(** 和 **)** - 括号用于运算分组 (浅蓝色按钮)
- **+/-** - 正负号切换 (浅蓝色按钮)
- **.** - 小数点 (白色按钮)
- **C** - 清除所有 (红色按钮)
- **⌫** - 退格删除 (红色按钮)  
- **=** - 计算结果 (橙色按钮)

## 使用示例

1. **内存操作**: 输入数字后按MS存储，使用MR调用存储的数值
2. **科学计算**: 
   - 平方根: 输入数字，按sqrt按钮
   - 幂运算: 输入底数，按x^y，输入指数，按=计算
   - 对数运算: 按ln(或log(，输入数字，按)，按=计算
3. **角度模式**: 按2nd按钮在角度和弧度模式之间切换

## 显示布局

计算器采用清晰、现代的显示设计：
- **历史记录区域** - 顶部区域显示计算历史，灰色文字
- **模式指示器** - DEG/RAD模式(蓝色，左侧)，内存状态(橙色，右侧)
- **公式显示区域** - 当前输入的表达式，大号黑色文字
- **结果显示区域** - 实时计算结果，灰色文字
- **圆角边框** - 所有显示区域都采用微妙的圆角设计
- **色彩协调** - 整体采用一致的配色方案

## 技术特点

- 完全兼容ESP32开发板显示系统
- 仅使用标准ASCII字符，避免显示乱码问题
- 针对不同屏幕区域优化字体大小
- 响应式按钮布局，间距合理
- 基于LVGL图形库，具有增强的样式设计
- 详细的中文代码注释，便于理解和维护

## 开发环境

- **平台**: ESP32开发板
- **图形库**: LVGL (Light and Versatile Graphics Library)
- **框架**: ESP_Brookesia_PhoneApp
- **编程语言**: C++
- **编译器**: ESP-IDF

所有界面元素均采用标准字符显示，确保与开发板显示系统的完美兼容性。代码结构清晰，注释详细，易于二次开发和功能扩展。